## 移动端适配

### 物理像素和设备独立像素

物理像素即落实到硬件层面，屏幕上实际显示的像素

设备独立像素，又称逻辑像素，即我们在编码过程中用到的像素，亦即css中的1px

正常情况下，逻辑像素和物理像素是相同的，即一个物理像素对应一个逻辑像素，但是retina的出现推翻了这一切，在苹果的设计中，它要求用2x2的像素来表示一个逻辑像素，这样大小一致的情况下，图像会显现出更细腻的表现度，这里逻辑像素和物理像素的比例就是`dpr`，devicePerRatio,retina为2

### 设置viewport

首先我们要搞清楚移动端浏览器的viewport标准，即viewport这个meta头部实际上不是规范的一部分，但是是各个浏览器厂商认定的标准，在介绍它具体有哪些属性之前，我们需要先知道一些基础概念

在这个不成明文的规范里，有三种viewport视口，一种是页面的layout，称为layout viewport，要注意layoutViewport实际上是有可能超过设备屏幕宽度的，第二种视口为屏幕的实际宽度，称为visual viewport。最后一个是ideal viewport即不需要水平滚动条即可完美呈现页面内容，第二个是字体大小要适合

viewport里可以设置如下几种属性

* width。用于设置当前视口的宽度，可以设置具体的数值，也可以设定为device-width，即屏幕的宽度
* initial-scale。用于指定初始的缩放值，这个值是相对于完美视口而言的
* 如果前两者发生了冲突，则取其中较大的那个
* 剩下的还可以设置最大最小放缩尺度以及是否允许放缩

viewport最直观的感受就是比如一行很长的字，如果在移动端的话是会出现滚动条的，加入了该meta头之后，就会使浏览器视口变小