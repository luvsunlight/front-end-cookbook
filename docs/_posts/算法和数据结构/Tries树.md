![](https://static001.geekbang.org/resource/image/04/58/04b5a7b26cd374a5c9da75e93e9d8f58.jpg)

## 1. 定义

搜索引擎的搜索关键词提示功能。Tries树的本质，就是利用字符串之间的公共前缀，将重复的前缀合并在一起，比如how,hi,her,hello,so,see组成一个tries树，就是这样的

![](https://static001.geekbang.org/resource/image/28/32/280fbc0bfdef8380fcb632af39e84b32.jpg)

![](https://static001.geekbang.org/resource/image/f8/6c/f848a7d8bda3d4f8bb4a7cbfaabab66c.jpg)

## 2. 实现

tries树主要有两个操作，一个是将字符串集合构造成tries树，另外一个是在trie树种查询一个字符串

tries树是一个多叉树，我们可以借助散列表的形式，假设只考虑a~z26个字母，那么我们在数组中下标为0的位置，存储指向a的节点，下标为1的位置存储节点为b的节点

当我们进行查找时，可以通过字符的ascii码减去a的ascii值，迅速找到对应位置的指针

## 3. 特点

构建tries树的过程需要O(n)，但是查询很高效，只需要O(K)，k只和被查询的元素有关，和数据源长度无关

但是tries树是很典型的用空间换时间的一种数据结构，很耗内存。我们可以用高效的数据结构来替代数组，比如有序数组，跳表，散列表，红黑树等

## 4. tries树和散列表，红黑树

这些数据结构都是能够高效查找操作的

如果是字符串匹配问题的话，tries树就有很多局限

* 字符集不能太大，很吃内存
* 要求字符串的前缀重合较多，要不然严重情况会退化成数组
* 需要从头到尾无bug实现一个tries树
* 因为使用链表来实现的，所以对缓存并不友好

所以在工程中，tries树不适合精确匹配查找，那种情况更适合散列表或者红黑树，tries树比较适合的是搜索引擎那种，查找前缀匹配的问题

## 5. 总结

Tries树是一种解决字符串快速匹配的数据结构，查找起来效率很高，是一种典型的空间换时间的数据结构，但是不适用于精确匹配查找，另外也不适用于大批量数据因为内存消耗很大

Tries树不适用用来做如字符串匹配等动态集合数据的查找，这些工作完全可以让更合适的散列表和红黑树来完成，Tries树最有优势的是查找前缀匹配的字符串，比如搜索引擎的提示词