![](https://static001.geekbang.org/resource/image/b4/66/b48bf407fcd03efc4ff2d3bd488d3666.jpg)

## 1. 定义

很多支持用户发表文本内容的网站，比如BBS，大多会有敏感词过滤功能，你有没有想过这个功能是如何实现的

最基本的原理就是字符串匹配算法，也就是通过维护一个敏感词的字典，当用户输入一段文字内容之后，通过字符串匹配算法，来查找用户输入的这段文字，是否包含敏感词，如果有就用*来替代之

### 1.1 基于单模式串和Tries树实现的敏感词过滤

AC自动机实际上就是在Tries树上，加入了类似KMP的next数组，只不过此处的next数组是构建在树上

## 2. 总结

单模式匹配算法是为了快速在主串中查找一个模式串，而多模式串算法是为了快速在主串中查找多个模式串。

AC自动机是基于Tries树的一种改进算法，它跟Tries树的关系，就像单模式串中，KMP算法和BF算法的关系一样，KMP算法中有一个非常关键的next数组，类比到AC自动机中就是失败指针。而且AC自动机失败指针的构建过程，跟KMP算法中计算next数组机器相似，所以要理解AC自动机，最好先掌握KMP算法，因为AC自动机其实就是KMP算法在多模式串上的改造

整个AC自动机算法包含了两个部分，第一部分是将多个模式串构建成AC自动机，第二部分是在AC自动机中匹配主串，第一个部分有两个小的步骤，一个是将模式串构建成Tries树，另一个是在Tries树上构建失败指针。

