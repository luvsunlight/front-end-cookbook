## 1. 前言

在了解性能优化之前，我们需要建立这样的概念：一切没有profiling的性能都是耍流氓，凡是真正有价值的性能优化，必定是从端到端的业务场景建立体系来考虑的

性能体系的建立可以分为以下几个部分

* 现状评估和建立指标
    * [性能分析](/_posts/性能/性能分析)
    * [网络请求](/_posts/性能/Ajax)
* 技术方案
    * [UI](/_posts/性能/快速响应的UI)
    * [算法和流程控制](/_posts/性能/算法和流程控制)
    * [DOM编程](/_posts/性能/DOM编程)
    * [数据存取](/_posts/性能/数据存取)
    * [加载和执行](/_posts/性能/加载和执行)
    * [前端实践](/_posts/性能/js实践)
* 执行
* 结果评估和监控

## 2. 现状评估和建立指标

作为一个工程师，指标又要考虑两个因素

* 对用户来说，什么样的性能指标能更好地评估它的体验
* 对公司来说，什么样的指标会影响业务价值呢

性能问题可以分为很多方面，比如

* 页面加载性能
* 动画和操作性能
* 内存，电量消耗

比如，页面加载性能和用户的流失率有很强的的关联性，这个正是公司业务看中的指标

如果拿用户平均加载时间来衡量，会遇到两个问题

* 加载时间低于一定值，用户其实感觉不太出来
* 极少数超长时间加载的用户会极大影响整个指标

## 3. 技术方案

我们可以从头开始分析整个技术流程的路线，然后逐段来分析优化的可能，比如以加载为例

* 域名到IP地址，用到了dns解析
* tcp建立连接
* https交换证书
* 每个网页还有图片请求

因此，我们最终设计的技术方案可以大约这样划分

![](https://static001.geekbang.org/resource/image/6b/f2/6b5051c452af8c3db5fbb8ba6b9e34f2.jpg)

可以看出来，这里涉及的绝不仅仅是前端技术1，所以要想做好性能优化，绝对不能把自己局限在局部的视角，必须是整个业务一起考虑，才能有良好的收效

## 4. 执行

管理层面的问题

## 5. 结果评估和监控

执行完了之后，还有有一定的结果总结，而且凡是工程实施，肯定要有一定的长效机制，不能优化完了退化，这些都要求有线上监控机制

* 数据采集
* 数据展现

## 6. 总结

性能应该是基于业务和实际用户体验需求的一种工程实施，而不是纯粹的技术游戏