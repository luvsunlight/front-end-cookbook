## 1. 浏览器中的DOM

我们把DOM和js想象成两个岛，它们之间用收费桥梁连接，每次访问DOM都会途径这个桥，并交纳过桥费，访问DOM的次数越多，费用也就越高

> 所以，我们要尽量减少DOM操作

## 2. DOM访问和修改

## 3. 重绘和重排

浏览器下载完页面中的所有组件-html,css,js,img，之后会生成两个内部的数据结构，DOM树和渲染树。DOM树表示页面结构，渲染树表示DOM节点如何显示

一旦渲染树构建完成，浏览器就开始显示页面元素。DOM树的重新构造称为重排，渲染树的重新构造称为重绘

比如改变节点颜色，只会导致重绘，而像改变页面宽度则会先重排，再重绘

由于每次重排都会产生计算消耗，大多数浏览器通过队列优化修改并且批量执行来优化重排过程。一个好的提高程序响应速度的策略就是减少重绘和重排的发生，应该合并多次对DOM和样式的修改

* 将多个style以字符串的形式合并
* 直接修改class

### 3.1 批量修改DOM

当我们需要对DOM元素进行一系列操作时，可以通过以下步骤来减少重绘和重排的过程

* 元素脱离文档流
* 对元素进行修改
* 把元素带回文档中

我们有三种方法可以使DOM脱离文档

* 隐藏元素
* 使用文档片段
* 将原始元素拷贝到一个脱离文档的节点中，修改副本

## 4. 事件委托

利用事件冒泡机制，我们在父元素上用委托来捕捉事件，可以减少子元素的判断过程